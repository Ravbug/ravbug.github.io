<head>
	<title>Kinect Motion Capture</title>
	<meta name="description" content="Use an Xbox sensor for inexpensive motion capture">
	<link id="favicon" rel="icon" href="../../ravbug.png" type="image/x-icon">
	{HEADER_CONTENT}
</head>
{JUMBOTRON}
<style>
	img {
		width:100%;
		max-width: 700px;
	}
</style>

<div class=main>
	<h1>Video Tutorial:
		<iframe style="width: 100%;" src="https://www.youtube.com/embed/LL1wrw5iLO8" width="300" height="480"
			allowfullscreen="allowfullscreen"></iframe></h1>
	Seb8tian graciously created this video tutorial from this webpage. Go subscribe! Make sure to enable Closed Captions
	(CC) on the video.
	<script src="https://apis.google.com/js/platform.js"></script>
	<div class="g-ytsubscribe" data-channel="Seb8tian" data-layout="full" data-count="default"></div>
	<hr>
	<h2>You will need:</h2>
	<ol>
		<li>A 64-bit computer running Windows 7 or higher with USB 2.0 or higher</li>
		<li>At least 6 GB free of hard disk space</li>
		<li>a CPU and GPU that meet system requirements for Maya</li>
		<li>A 3-button mouse</li>
		<li>An Xbox Kinect 360 sensor. MotionBuilder does not support the Xbox One sensor.</li>
		<li>Kinect 360 USB adapter (if your Kinect does not have a standard USB connector)
			<ol>
				<li>An adapter you could use: <a
						href="https://www.amazon.com/Microsoft-Xbox-360-Kinect-Sensor-Adapter/dp/B00JVI6BVY"
						target="_blank"
						rel="noopener">https://www.amazon.com/Microsoft-Xbox-360-Kinect-Sensor-Adapter/dp/B00JVI6BVY</a>
				</li>
			</ol>
		</li>
		<li>An open space free of obstructions (10ft*10ft recommended, 5ft*5ft minimum)</li>
		<li>Once you have gathered all of these parts you are ready to proceed!</li>
	</ol>
	<hr>
	<h2>Required Software:</h2>
	A complete list of all the software we will install just as a heads-up. No surprises! <strong>(Don't install any of
		this yet)</strong>
	<ol>
		<li>Autodesk Maya 2016 or higher (Can be acquired for free legally by making a student account on Autodesk.com,
			more info about this later)</li>
		<li>Autodesk MotionBuilder 2016 or higher (make sure to use the same version as Maya!)</li>
		<li>Kinect SDK 1.8 (or 2.0 for Xbox One)</li>
	</ol>
	<hr>
	<h2>Installation and Setup</h2>
	<ol>
		<li><a href="https://www.microsoft.com/en-us/download/details.aspx?id=40278">Download</a> and install the Kinect SDK 1.8 (<b>Do not plug in the Kinect first!</b>)
		</li>
		<li>Run the installer to install the SDK
		</li>
		<li>If you haven't already, create an Autodesk student account by visiting <a href="https://www.autodesk.com/student">autodesk.com/student</a>
		</li>
		<li>Install the student version of <a href="http://www.autodesk.com/education/free-software/motionbuilder">Autodesk MotionBuilder</a> (This guide confirms version 2018 to work).
		</li>
		<li>Install the student version of <a href="www.autodesk.com/education/free-software/maya">Maya</a> (make sure you install the same year-version! For example, if you installed MotionBuilder 2018, install Maya 2018.)
		</li>
		<li>Plug your Kinect sensor into any power USB 2.0 or higher port on your computer
			<ol>
				<li>Plug the power cable into a wall socket if your Kinect requires a power outlet</li>
				<li>Wait while your computer automatically installs any required drivers for your computer. Do not
					unplug the Kinect during this process.</li>
			</ol>
		</li>
	</ol>
	<hr>
	<h2>Operation Instructions - Setup</h2>
	<ol>
		<li>Plug in your Kinect and place it approximately 4 feet above the ground and level horizontally. Do
			not force the sensor arm backward or forwards! Doing so will damage the motor.</li>
		<li>Launch MotionBuilder.</li>
		<li>Go to the [Asset Browser], expand the [Templates] folder, and click [Devices]
			<br><img src="setup_step3.png"> 
		</li>
		<li>Drag [Kinect 1.0] onto the 3D grid</li>
		<li>Under [Model Binding] click [Create]. A yellow joint skeleton should appear in the view.
			<br><img src="setup_step5.png">
			<ol>
				<li><b>Note:</b> for MotionBuilder 2017 or higher, you will need to go to [Characters] - 
					[MocapDeviceCharacter] in the Templates panel and change [Character Solver] to [MB Character Solver]</li>
			</ol>
		</li>
		<li>Click the Online button and wait until it turns green. If a dialog for voice control pops up, press [No].
			The Kinect should auto-level its sensor if necessary.
			<br><img src="setup_step6.png">
		</li>
		<li>Under [Setup] click [Setup Recording]. A human male model should appear in the viewport.
			<br><img src="steup_step7.png">
		</li>
		<li>[Optional] Delete all of the mesh for the man. You do not need it unless you don't have any rigs to retarget
			the motion to. Keep the white skeleton because it is essential.
			<br><img src="setup_step8-9.png">
		</li>
		<li>Click [Calibration], and then [Ok]</li>
		<li>Stand about 6 feet away from the Kinect and directly in front of it. You will notice the yellow skeleton on
			the screen will begin to match your movements.</li>
		<li>Put your arms out in a T-Pose (look at the white skeleton for reference)</li>
		<li>When the Kinect has calibrated successfully, you will hear a sound effect and the white skeleton will start
			moving with the yellow one.
			<br><img src="setup_step12.png">
		</li>
	</ol>
	<hr>
	<h2>Capturing Motion</h2>
	<ol>
		<li style="list-style-type: none;">
			<ol>
				<li>Complete Setup mentioned above.</li>
				<li>In the timeline, press the circular Record button.
					<br><img src="capturing1-2.png">
				</li>
				<li>Press the triangular Play Forwards button</li>
				<li>Stand about 6 feet in front of the Kinect and perform (make sure the player is running while you
					perform)
					<br><img src="capturing4.png">
				</li>
				<li>Press either Play Forwards or Stop (square) to end the recording</li>
				<li>Wait until progress bars stop appearing.</li>
				<li>Move the time scrubber to the beginning of the timeline and play back your recording. Notice that
					only the white skeleton is moving – this is what we want.</li>
				<li>[optional] Move the camera around in MotionBuilder to inspect all angles of the recording.</li>
			</ol>
		</li>
	</ol>
	<hr>
	<h2>Trimming out bad recordings</h2>
	Follow the steps below to trim out the shaky or otherwise problematic endpoints of the recording.
	<ol>
		<li>Go to the Story tab.
			<br><img src="trimbad1-2.png">
		</li>
		<li>Drag the time slider to where the skeleton stops shaking.</li>
		<li>Click on the edge of the clip and drag it over to the time slider. It should snap to the location of the
			time slider.</li>
		<li>Drag the time slider to just before the animation becomes shaky again at the end of the clip.
			<br><img src="trimbad4.png">
		</li>
		<li>Click on the edge of the clip and drag it over to the time slider. It should snap to the location of the
			time slider.
			<br><img src="trimbad5.png">
		</li>
		<li>Click in the middle of the clip and drag it to the left so it lines up with frame 1.
			<br><img src="trimbad6.png">
		</li>
		<li>Now play back the animation. The problematic portions will be gone.</li>
	</ol>
	<hr>
	<h2>Sending to Maya</h2>
	<ol>
		<li>Deselect everything in MotionBuilder by dragging in the 3D view to make a dashed-line rectangle. Make sure
			that rectangle is not covering anything in the scene and release the mouse button.</li>
		<li>Go to File -&gt; Send to Maya -&gt; Send as New Scene
			<br><img src="sendtomaya.png">
		</li>
		<li>Click the [OK] button on the popup dialog. </li>
		<li>Wait for Maya to launch. When the popup shows up, press [Don't save]</li>
		<li>Use the scroll wheel to zoom out. Keep zooming out until you see the Mocap Skeleton.</li>
		<li>Right-click the timeline, go to Playback speed -&gt; Real-time to play back at 24 frames per second.</li>
		<li>Play back your animation.</li>
		Note. If Send to Maya does not work, you can save your MotionBuilder scene as an FBX file and import it into Maya (make sure the fbx plugin is enabled!). However, you will 
		most likely need to manually map your imported skeleton to HIK if you do this. 
	</ol>

	<div class="breadcrumb">
		To clone these movements onto a CGI character, you can follow <a
			href="../../tutorials/hik-retargeting/" target="_blank" rel="noopener">this guide.</a>

		to learn how to use HIK Retargeting for HIK quipped rigs, or simply use Parent and Orient constraints 
		from the mocap skeleton to controllers on your custom rig.
	</div>

</div>
<script src="../../header.js"></script>
<script src="../../statistics.js" url="https://bit.ly/2Y0kxt3"></script>